<div class="container">
    <ng-container *appNgLet="listLoaded$ | async as listLoaded">
        <div>
          <ng-container *ngIf="!listLoaded">
              <span>Loading...</span>
          </ng-container>

          <ng-container *ngIf="newUserError$ | async as newUserError">
            <div class="error-box">
              <span>An error occured when saving the user!</span>
            </div>
          </ng-container>
        </div>

        <div class="user-container">
          <ng-container *appNgLet="listError$ | async as listError">
              <ng-container *ngIf="listLoaded && !listError">
                  <div class="new-user-container">
                      <app-new-user-form class="new-user" (newUser)="addUser$.next($event)"></app-new-user-form>
                  </div>
                  <ng-container *ngIf="users$ | async as users">
                      <div class="user-list">
                          <div *ngFor="let user of users" class="user-list-item">
                              <app-user [user]="user"></app-user>
                          </div>
                      </div>
                  </ng-container>
              </ng-container>

              <ng-container *ngIf="listLoaded && listError">
                  <span>An error occured! Please reload</span>
              </ng-container>
          </ng-container>
          </div>
    </ng-container>
</div>




